<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Империя Тьмы — Экономическая Стратегия</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ==== ВЕРХНИЙ БАР ==== -->
<div id="topBar">
    <h1>Империя Тьмы</h1>
    <h2 id="yearLabel">Год: 1450</h2>
</div>

<!-- ==== ОСНОВНАЯ СЕТКА ==== -->
<div id="mainContainer">

    <!-- ==== ЗАМКОВАЯ ЗОНА ==== -->
    <div id="castleView">
        <img id="castleImage" src="assets/castle1.png" alt="castle">
    </div>

    <!-- ==== ЛЕВАЯ КОЛОНКА ==== -->
    <div class="panel">
        <h3>Статистика</h3>
        <table>
            <tr><td>Жители:</td><td id="pop"></td></tr>
            <tr><td>Еда:</td><td id="food"></td></tr>
            <tr><td>Золото:</td><td id="gold"></td></tr>
            <tr><td>Железо:</td><td id="iron"></td></tr>
            <tr><td>Оружие:</td><td id="weapons"></td></tr>
            <tr><td>Солдаты:</td><td id="army"></td></tr>
            <tr><td>Популярность:</td><td id="popularity"></td></tr>
            <tr><td>Замок:</td><td id="castle"></td></tr>
            <tr><td>Титул:</td><td id="rank"></td></tr>
        </table>
    </div>


    <!-- ==== МИНИ-КАРТА ==== -->
    <div id="miniMap" class="panel">
        <h3>Карта поселения</h3>
        <div id="mapGrid"></div>
    </div>


    <!-- ==== ПРАВАЯ КОЛОНКА: СТРОИТЕЛЬСТВО ==== -->
    <div class="panel">
        <h3>Строительство</h3>

        <div class="buildIcon" onclick="openBuildPopup('farm')">
            <img src="assets/icons/icon_farm.png">
            <span>Ферма</span>
        </div>

        <div class="buildIcon" onclick="openBuildPopup('mine')">
            <img src="assets/icons/icon_mine.png">
            <span>Шахта</span>
        </div>

        <div class="buildIcon" onclick="openBuildPopup('market')">
            <img src="assets/icons/icon_market.png">
            <span>Рынок</span>
        </div>

        <div class="buildIcon" onclick="openBuildPopup('forge')">
            <img src="assets/icons/icon_forge.png">
            <span>Кузница</span>
        </div>

        <div class="buildIcon" onclick="upgradeCastle()">
            <img src="assets/icons/icon_castle.png">
            <span>Строить замок</span>
        </div>
    </div>


    <!-- ==== АРМИЯ ==== -->
    <div class="panel">
        <h3>Армия</h3>

        <button onclick="craftWeapon()">Ковать оружие</button>
        <button onclick="hireSoldier()">Нанять солдата</button>
    </div>


    <!-- ==== НАЛОГИ И ПИЩА ==== -->
    <div class="panel">
        <h3>Налоги и пища</h3>

        <label>
            Налоги (%):
            <input id="taxRate" type="number" min="0" max="100" value="30">
        </label>
        <br><br>
        <label>
            Еда на человека:
            <input id="foodRate" type="number" min="0" max="10" value="3">
        </label>
    </div>


    <!-- ==== ТОРГОВЛЯ ==== -->
    <div class="panel">
        <h3>Торговля</h3>
        <button onclick="sellFood()">Продать еду</button>
        <button onclick="buyFood()">Купить еду</button>
        <button onclick="sellIron()">Продать железо</button>
        <button onclick="buyIron()">Купить железо</button>
        <button onclick="sellWeapons()">Продать оружие</button>
        <button onclick="buyWeapons()">Купить оружие</button>
    </div>


    <!-- ==== СОВЕТНИК ==== -->
    <div class="panel">
        <h3>Советник</h3>
        <pre id="advisor"></pre>
    </div>


    <!-- ==== КНОПКА СЛЕДУЮЩЕГО ГОДА ==== -->
    <button class="nextYear" onclick="endTurn()">Следующий год ▶</button>

</div> <!-- /mainContainer -->



<!-- ====================================================== -->
<!--             POPUP ОКНО ДЛЯ СТРОИТЕЛЬСТВА               -->
<!-- ====================================================== -->

<div id="buildPopup" class="hidden popup">
    <div class="popupBox">

        <img id="popupIcon" alt="">
        <h3 id="popupTitle"></h3>

        <p id="popupDesc"></p>
        <p id="popupCost"></p>

        <label>Количество:</label><br>
        <select id="popupAmount">
            <option value="1">1</option>
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="25">25</option>
        </select>

        <br><br>
        <button onclick="confirmBuild()">Построить</button>
        <button onclick="closeBuildPopup()">Закрыть</button>
    </div>
</div>


<!-- ====================================================== -->
<!--                  ПОПАП ОТЧЁТА ЗА ГОД                   -->
<!-- ====================================================== -->

<div id="reportPanel" class="hidden">
    <div id="reportBox">
        <h3>Отчёт за год</h3>
        <pre id="reportText"></pre>
        <button onclick="closeReport()">Закрыть</button>
    </div>
</div>


<script src="game.js"></script>
</body>
</html>
